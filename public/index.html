<!DOCTYPE html>
<html>
<head>
  <title>My Chat Website</title>
  <script src="/socket.io/socket.io.js"></script>
</head>
<body>

<h2>Chat Room</h2>

<input id="roomInput" placeholder="Room name">
<button onclick="joinRoom()">Join</button>

<div id="messages"></div>

<input id="msgInput" placeholder="Message">
<button onclick="sendMessage()">Send</button>

<script>
const socket = io();

let room = null;

function joinRoom() {
  room = document.getElementById("roomInput").value;
  socket.emit("join-room", room);
}

function sendMessage() {
  const text = document.getElementById("msgInput").value;
  socket.emit("message", { room, text });
}

socket.on("message", (data) => {
  const div = document.createElement("div");
  div.innerText = data.text;
  document.getElementById("messages").appendChild(div);
});
</script>

</body>
</html>
